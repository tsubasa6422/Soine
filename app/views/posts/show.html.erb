
<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-body">

      <div class="d-flex justify-content-between align-items-start">
        <div>
          <h4 class="mb-2"><%= @post.title %></h4>
          
          <% if @post.images.attached? %>
            <div class="mb-3 d-flex flex-wrap gap-2">
              <% @post.images.each do |image| %>
                <%= image_tag image.variant(resize_to_limit: [600, 600]), class: "rounded", style: "max-width: 100%;" %>
              <% end %>
            </div>
          <% end %>

          <div class="text-muted small">
            <%= @post.created_at.strftime("%Y/%m/%d %H:%M") %>
          </div>
        </div>

        <% if @post.user == current_user %>
          <div class="d-flex gap-2">
            <%= link_to "編集",
                        edit_post_path(@post),
                        class: "btn btn-outline-secondary btn-sm" %>

            <%= link_to "削除",
                        post_path(@post),
                        method: :delete,
                        data: { confirm: "この投稿を削除しますか？" },
                        class: "btn btn-outline-danger btn-sm" %>
          </div>
        <% end %>
      </div>

      <hr>

      <p class="mb-0"><%= simple_format(@post.body) %></p>

    </div>
  </div>
</div>
